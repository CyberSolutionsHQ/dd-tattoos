:root {
  --fx-flicker-duration-left: 140ms;
  --fx-flicker-duration-right: 155ms;
  --fx-smoke-duration-left: 4.4s;
  --fx-smoke-duration-right: 4.9s;
}

.wallFxStage {
  position: relative;
  width: auto;
  height: 100%;
  max-width: 100%;
  aspect-ratio: 1024 / 1536;
  display: block;
}

.wallFxStage .wallBg {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
}

.wallFxStage .torchFx,
.wallFxStage .smokeFx {
  position: absolute;
  pointer-events: none;
  z-index: 2;
}

.wallFxStage .torchFx {
  mix-blend-mode: screen;
  opacity: 0.85;
  filter: blur(1.8px) saturate(1.25);
  transform-origin: center bottom;
  background:
    radial-gradient(closest-side at 50% 88%, rgba(255, 244, 200, 0.95) 0%, rgba(255, 196, 120, 0.65) 42%, rgba(255, 122, 47, 0.32) 70%, rgba(255, 122, 47, 0) 100%),
    radial-gradient(closest-side at 36% 80%, rgba(255, 218, 142, 0.7) 0%, rgba(255, 138, 54, 0.35) 58%, rgba(255, 138, 54, 0) 78%),
    radial-gradient(closest-side at 64% 82%, rgba(255, 232, 165, 0.75) 0%, rgba(255, 138, 54, 0.32) 62%, rgba(255, 138, 54, 0) 80%);
}

.wallFxStage .torchFx.left {
  left: 1.5625%;
  top: 27.8646%;
  width: 20.9961%;
  height: 12.6302%;
  animation: fx-flicker-left var(--fx-flicker-duration-left) infinite alternate;
}

.wallFxStage .torchFx.right {
  left: 78.8086%;
  top: 27.6042%;
  width: 19.7266%;
  height: 12.7604%;
  animation: fx-flicker-right var(--fx-flicker-duration-right) infinite alternate;
}

.wallFxStage .smokeFx {
  mix-blend-mode: screen;
  opacity: 0.55;
  z-index: 3;
}

.wallFxStage .smokeFx::before,
.wallFxStage .smokeFx::after {
  content: "";
  position: absolute;
  inset: -30% 10% 35% 10%;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 70%, rgba(210, 210, 210, 0.35) 0%, rgba(130, 130, 130, 0.18) 45%, rgba(60, 60, 60, 0) 70%);
  filter: blur(10px);
  opacity: 0;
}

.wallFxStage .smokeFx::after {
  inset: -45% 18% 40% 18%;
  filter: blur(14px);
  opacity: 0.05;
}

.wallFxStage .smokeFx.left {
  left: 0.8%;
  top: 23.5%;
  width: 23.5%;
  height: 20%;
}

.wallFxStage .smokeFx.right {
  left: 77.2%;
  top: 23.2%;
  width: 22.8%;
  height: 20.5%;
}

.wallFxStage .smokeFx.left::before {
  animation: fx-smoke-rise var(--fx-smoke-duration-left) ease-in-out infinite;
}

.wallFxStage .smokeFx.left::after {
  animation: fx-smoke-rise calc(var(--fx-smoke-duration-left) * 1.15) ease-in-out infinite 0.6s;
}

.wallFxStage .smokeFx.right::before {
  animation: fx-smoke-rise-right var(--fx-smoke-duration-right) ease-in-out infinite;
}

.wallFxStage .smokeFx.right::after {
  animation: fx-smoke-rise-right calc(var(--fx-smoke-duration-right) * 1.2) ease-in-out infinite 0.8s;
}

@keyframes fx-flicker-left {
  0% {
    opacity: 0.72;
    transform: scale(0.98) rotate(-1deg);
  }
  45% {
    opacity: 0.92;
    transform: scale(1.02) rotate(0.5deg);
  }
  100% {
    opacity: 0.78;
    transform: scale(1.01) rotate(-0.6deg);
  }
}

@keyframes fx-flicker-right {
  0% {
    opacity: 0.7;
    transform: scale(0.985) rotate(1deg);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.03) rotate(-0.4deg);
  }
  100% {
    opacity: 0.76;
    transform: scale(1.01) rotate(0.7deg);
  }
}

@keyframes fx-smoke-rise {
  0% {
    opacity: 0;
    transform: translate3d(-2%, 6%, 0) scale(0.95);
  }
  30% {
    opacity: 0.35;
  }
  70% {
    opacity: 0.2;
  }
  100% {
    opacity: 0;
    transform: translate3d(2%, -18%, 0) scale(1.15);
  }
}

@keyframes fx-smoke-rise-right {
  0% {
    opacity: 0;
    transform: translate3d(2%, 6%, 0) scale(0.95);
  }
  30% {
    opacity: 0.33;
  }
  70% {
    opacity: 0.18;
  }
  100% {
    opacity: 0;
    transform: translate3d(-2%, -18%, 0) scale(1.12);
  }
}

@media (prefers-reduced-motion: reduce) {
  .wallFxStage .torchFx,
  .wallFxStage .smokeFx::before,
  .wallFxStage .smokeFx::after {
    animation: none;
  }
}
